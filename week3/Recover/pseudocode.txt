Початок програми

1. Перевірити кількість аргументів командного рядка
   якщо argc != 2
       вивести "Usage: ./recover image" у stderr
       повернути 1


2. Відкрити файл argv[1] для читання
   якщо файл не відкрився (NULL)
       вивести помилку у stderr
       повернути 2

3. Створити буфер розміром 512 байтів

4. Ініціалізувати:
   лічильник JPEG = 0
   вихідний файл = NULL
   прапорець foundJPEG = false

5. Поки fread(buffer, 512, 1, вхідний файл) повертає 1:

      // Перевірити, чи це початок нового JPEG
      якщо:
          buffer[0] == 0xff
          buffer[1] == 0xd8
          buffer[2] == 0xff
          (buffer[3] & 0xf0) == 0xe0

          якщо foundJPEG == true
              закрити попередній вихідний файл

          створити ім’я файлу за форматом "%03i.jpg"
              (використати лічильник JPEG)

          відкрити новий файл для запису

          збільшити лічильник JPEG на 1
          встановити foundJPEG = true

      якщо foundJPEG == true
          записати 512 байтів з buffer у відкритий JPEG-файл

6. Після завершення циклу:
      якщо вихідний файл не NULL
          закрити його

7. Закрити вхідний файл

8. Повернути 0

Кінець програми